### Variables
@baseUrl = http://localhost:3000

@contentType = application/json

### The basic request
GET {{baseUrl}}

### Get all tasks
# @name getAllTasks
GET {{baseUrl}}/tasks
Content-Type: {{contentType}}

### Get all in progress tasks
# @name getAllInProgress
GET {{baseUrl}}/tasks?status=IN_PROGRESS


### Get all with search query
# @name getAllWithSearch
GET {{baseUrl}}/tasks?search=com


### Get all filtered
# @name getAllFilteredByLabels
GET {{baseUrl}}/tasks?labels=PRIORITY


### Get all sorted
# @name getAllSorted
GET {{baseUrl}}/tasks?sortBy=status&sortOrder=ASC

### Get one task
GET {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

### Create new task
# @name createTask
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
    "title": "Learn Clean Architecture",
    "description": "Complete Clean Architecture courses",
    "status": "OPEN",
    "userId": "537dac0c-0a3f-4215-8c5d-fc2028b3a86a",
    "labels": [
        {
            "name": "urgent"
        }
    ]
}

### Validation error - status is incorrect
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
    "title": "Learn NestJSs",
    "status": "XXX"
}

### Set the task id 
@taskId = {{ createTask.response.body.id }}

### Update the task status
PATCH {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

{
   "status": "IN_PROGRESS",
   "labels": [{
    "name": "PRIORITY"
   }]
}

### Delete a task
DELETE {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

### Add specific labels to task
# @name addLabels
POST {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

[
    {"name": "add jwt"},
    {"name": "fixing login"}
]


### Remove specific labels from task
# @name removeLabels
DELETE {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

["add jwt", "fixing login" ]